<script src='js/mapArticles.js'></script>
<div id='searchArea'>
    <div class="row">
        <div class="col-xs-9">
            <input type="text" id='textSearch' class="form-control" placeholder="輸入地點">
        </div>
        <div class="col-xs-3">
            <input type="submit" id="searchSubmit" value="查詢" class="btn">
        </div>
    </div>
    <!-- <input type="submit" id='getLocationBtn' value="我的位置"> -->
</div>
<div class='pageContainer'>
    <!-- map -->
    <div id='map'></div>
    <!-- search info -->
    <div id='mapInfo'>
        <p id='hint'>先把要編輯的地點加入清單吧</p>
        <div id='allPlaces'></div>
        <div id='option'>
            <p id='goback' class="back">
                <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>返回
            </p>
            <p id='optionTag'></p>
            <!-- <h4 class="btn btn-link option_bar_btn">附近找</h4>
            <div id='option_bar'>
                <a key='restaurant'><i class="fa fa-cutlery" aria-hidden="true"></i>餐廳</a>
                <a key='cafe'><i class="fa fa-coffee" aria-hidden="true"></i>Cafe'</a>
                <a key='parking'><i class="fa fa-car" aria-hidden="true"></i>停車場</a> .......
            </div> -->
            <div id='infoGotop'>
                <span class="glyphicon glyphicon-circle-arrow-up"></span>
            </div>
            <div id='infoText'></div>
            <div id='info'>
            </div>
            <a>網路熱門</a>
        </div>
    </div>
    <!-- shedule -->
    <div id='schedule_block'>
        <div id='schedule'>
            <p id='scheduleGoback' class="back">
                <i class="glyphicon glyphicon-eject"></i>收起
            </p>
            <div id='list_head'>
                <h4 style="display: inline-block;">我的清單</h4>
                <small class="sch_hint">點擊看詳細資料，<br>拖曳可排序</small><br>
                <a id='plan'>開始編輯</a>
                <div class="listArea"></div>
                <button class="btn saveArticle">儲存</button>
            </div>
        </div>
    </div>
    <div id='planDistance'>
        <div class="trip_bar">
            <span id="prev" class="btn dayBtn glyphicon glyphicon-triangle-left"></span>
            <span class="placeTitle">編輯地點</span>
            <span id="next" class="btn dayBtn glyphicon glyphicon-triangle-right"></span>
        </div>
        <div>
            <button class="btn uploadbtn">上傳圖片</button>
            <div><input type="file" id='Insert' accept = "image/*"></div>
        </div>
        <div class="noPlace">清單中沒有地點</div>
    </div>
</div>
<div class="first_drop_ex">
    <div class="first_drop">拖曳加入地點</div>
</div>


<style type="text/css">
.uploadbtn{
        margin: 2px;
        background-color: lightblue;
    }
#Insert{
    display: none;
}
.edit_area{
    border: 1px solid lightgray;
    width: 100%;
    min-height: 80vh;
}
 .edit_area img{
        max-width: 90%;
        margin: 10px 0px 10px 0px;
    }
.trip_bar{
    text-align: center
}
#searchSubmit {
    background-color: #46A3FF;
    color: white;
}



.distance_info:hover {
    background-color: lightyellow;
}

#delList {
    float: right;
}

.first_drop {
    padding: 1px;
    min-height: 50px;
}

.time_title {
    border-top: 0.5px solid #F0F0F0;
    height: 40px;
    margin: 0;
    padding: 3px;
}

.time_con {}

.time_place {
    cursor: pointer;
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid lightgray;
}

.tempor {
    min-height: 50px;
    margin: 0px;
    padding: 0.5vw;
}

.first_drop_ex {
    display: none;
}

.timeline_ex {
    display: none;
}

.morning {
    background: linear-gradient(to bottom, #00FFFF, white);
}

.noon {
    background: linear-gradient(to bottom, #FFFFAA, white);
}

.afternoon {
    background: linear-gradient(to bottom, #FFC78E, #FFE4CA, white);
}

.night {
    background: linear-gradient(to bottom, #28004D, #5A5AAD, white);
    color: white;
}

._container {
    overflow-y: hidden;
}

#infoText {}

#infoGotop {
    /* border: 1px solid lightgray; */
    border-radius: 20px;
    cursor: pointer;
    /*background-color: rgba(80, 80, 80, 0.7);*/
    position: fixed;
    font-size: 20px;
    right: 35px;
    bottom: 20px;
    padding: 2px;
    z-index: 19;
}

#welcomeOption {
    display: block;
}

#option_bar {
    /* display: none; */
}

#option_bar a {
    font-size: 15px;
    margin: 5px;
    cursor: pointer;
    color: gray;
}

.pageContainer {
    padding: 0;
}

#map {
    z-index: 0;
    width: 75vw;
    height: 100vh;
    position: absolute;
    left: 0;
}

#mapInfo {
    background: white;
    margin: 0;
    padding: 0px;
    width: 25vw;
    height: 100vh;
    position: absolute;
    right: 0vw;
    /* overflow-y: scroll; */
    z-index: 1;
}

#planDistance {
    background: white;
    margin: 0;
    padding: 2% 2% 200px 2%;
    width: 50vw;
    height: 100vh;
    position: absolute;
    right: 25vw;
    overflow-y: scroll;
    opacity: 0;
    z-index: -1;
}

#schedule {
    overflow-y: scroll;
    width: 25vw;
    height: 100vh;
    position: absolute;
    right: 0;
    margin: 0;
    padding: 0;
    background-color: lightgoldenrodyellow;
    opacity: 1;
}

#list_head {
    background-color: lightgoldenrodyellow;
    border: none;
    margin: 5px 5px 10px 5px;
}

#hint {
    height: 50px;
    overflow: hidden;
    margin: 0px;
    opacity: 0.9;
    padding: 0px;
    background-color: lightblue;
}

#option {
    overflow-y: scroll;
    height: 90vh;
    display: none;
}

#option p {
    margin: 0px;
    padding: 10px;
}

.back {
    margin: 0px;
    cursor: pointer;
    color: slategray;
    padding: 2px;
    /* border-radius: 5px; */
    background-color: lightblue;
    font-size: 16px;
}

#goback {
    /* display: none;    */
}

#allPlaces {
    z-index: 1;
    padding: 0px 0px 100px 0px;
    height: 90vh;
    overflow-y: scroll;
}

#allPlaces p {
    cursor: pointer;
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid lightgray;
}

#optionTag {
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid lightgray;
}

.placeIcon {
    width: 5vw;
    height: 5vw;
    overflow: hidden;
    display: inline-block;
}

.placeName {
    padding-left: 0.1vw;
    /* padding-top:1.7vw;  */
    min-height: 5vw;
    width: 16vw;
    margin-left: 0.1vw;
    display: inline-block;
    overflow: hidden;
}

.placeIcon img {
    height: 100%;
}

#allPlaces p:hover {
    background-color: #F0F0F0;
}

#add {
    display: inline-block;
    z-index: 2;
    font-size: 12px;
    cursor: pointer;
    color: blue;
    float: right;
}

#plan {
    margin: 0px 0px 5px 0px ;
    cursor: pointer;
    color: black;
    padding: 2px;
    border-radius: 5px;
    background-color: lightgray;
    font-weight: lighter;
    font-size: 18px;
    display: inline-block;
}
.saveArticle{
    margin: 5px 0px 5px 0px ;
}
#info {
    padding-bottom: 100px;
}

#info img {
    width: 24vw;
}

#infoImg {
    /*  height: 350px; */
    /* overflow-y: scroll; */
}

#infoImg img {
    width: 24vw;
}

.list_con {
    cursor: pointer;
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid orange;
    background-color: #FFE66F;
}

.dragP {
    /* font-size: 18px;
        cursor: pointer;
        padding: 5px;
        margin: 0px;
        height:30px; */
}

.fa-bars {
    cursor: pointer;
    margin-right: 10px;
}

.fa-trash-o {
    cursor: pointer;
    float: right;
    z-index: 10;
}

.travelMode {
    margin: 3px;
}

.instruc {
    display: none;
}

@media (orientation:portrait) {}

@media (max-width:500px) {
    #map {
        z-index: 0;
        width: 100vw;
        height: 43vh;
        position: absolute;
        top: 40px;
        left: 0;
    }
    #mapInfo {
        font-size: 12px;
        background: white;
        margin: 0;
        padding: 0px;
        width: 100vw;
        position: absolute;
        height: 100%;
        top: 43vh;
        right: 0vw;
        /* overflow-y: scroll; */
        z-index: 1;
    }
    #option {
        padding: 0px;
        overflow-y: scroll;
        height: 100vh;
        display: none;
    }
    #optionTag {
        margin: 0px;
        padding: 0px;
        /* border-top: 1px solid gray; */
        border-bottom: 1px solid lightgray;
    }
    #allPlaces {
        padding: 0px 0px 100px 0px;
        height: 100vh;
        overflow-y: scroll;
    }
    .placeIcon {
        margin: 0px;
        width: 13vw;
        height: 13vw;
        overflow: hidden;
        display: inline-block;
    }
    .placeName {
        padding-left: 1vw;
        /* padding-top:1.7vw;  */
        min-height: 13vw;
        width: 78vw;
        margin: 0px 0px 0px 0.1vw;
        display: inline-block;
        overflow: hidden;
    }
    .placeIcon img {
        width: 100%;
    }
    #info img {
        margin-left: 2vw;
        width: 90vw;
    }
    #planDistance {
        background: white;
        margin: 0;
        padding: 0px 0px 200px 0px;
        width: 50vw;
        height: 100vh;
        position: absolute;
        top: 40px;
        left: 0;
        overflow-y: scroll;
        opacity: 0;
        z-index: -1;
        font-size: 10px;
    }
    #schedule {
        z-index: -1;
        overflow-y: scroll;
        width: 50vw;
        height: 100vh;
        position: absolute;
        right: 0;
        top: 40px;
        margin: 0;
        padding: 0px 0px 100px 0px;
        background-color: lightgoldenrodyellow;
        opacity: 1;
        font-size: 10px;
    }
    #schedule h4 {
        font-size: 16px;
    }
    #schedule small {
        font-size: 10px;
    }
    #schedule .placeIcon {
        width: 6.5vw;
        height: 6.5vw;
        overflow: hidden;
        display: inline-block;
    }
    #schedule .placeName {
        font-size: 10px;
        padding-left: 1vw;
        /* padding-top:1.7vw;  */
        min-height: 6.5vw;
        width: 37.5vw;
        margin-left: 0.1vw;
        display: inline-block;
        overflow: hidden;
    }
    #planDistance .placeIcon {
        width: 6.5vw;
        height: 6.5vw;
        overflow: hidden;
        display: inline-block;
    }
    #planDistance .placeName {
        font-size: 10px;
        padding-left: 1vw;
        /* padding-top:1.7vw;  */
        min-height: 6.5vw;
        width: 37.5vw;
        margin-left: 0.1vw;
        display: inline-block;
        overflow: hidden;
    }
    #planDistance h4 {
        font-size: 13px;
    }
    #delList {
        font-size: 10px;
    }
    .dayplus {
        font-size: 10px;
    }
}
</style>

<script type="text/javascript">
leadToLogin()
InsertImg('#Insert', Insert)
    //var
    //map
var map,
    searchBox,
    service,
    DirectionsService,
    query,
    bounds,
    mark_bounds,
    radius = 500000,
    focusMark,
    marker = [],
    list_marker = [],
    center = {
        lat: 23.5,
        lng: 121.2
    },
    infowindows, //has 's'
    //listCount = 0,
    my_list = [],
    edit_list=[],
    pageNow=''

//dom
var hint = document.getElementById('hint'),
    input = document.getElementById('textSearch'),
    dragCount = '',
    temporCount = '',
    dragId = 0;

//process
//planning_search
//EnterSubmit('#searchSubmit');
block();
newMap();
ResetInput('#textSearch');
welcomeOption('清單', showShedule);

//planning_distance

function showShedule(e, target) {

    //var target=$('#welcomeOption')
    console.log('click' + target.attr('class'))
    if (target.hasClass('showNow')) {
        SetPage('close_schedule')
    } else {
        SetPage('schedule')
    }

}
$('#schedule_block').click(function() {
    $(this).css('zIndex', '0').animate({
        top: '55vh'
    })
})
</script>