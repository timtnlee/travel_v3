<script src='js/planning_searches.js'></script>
<script src='js/planning_distances.js'></script>
<div id='searchArea'>
    <div class="row">
        <div class="col-xs-9">
            <input type="text" id='textSearch' class="form-control" placeholder="輸入地點">
        </div>
        <div class="col-xs-3">
            <input type="submit" id="searchSubmit" value="查詢" class="btn btn-primary">
        </div>
    </div>
    <!-- <input type="submit" id='getLocationBtn' value="我的位置"> -->
</div>
<div class='pageContainer'>
    <!-- map -->
    <div id='map'></div>
    <!-- search info -->
    <div id='mapInfo'>
        <p id='hint'>選擇一個想去的地點吧(ex:台北101)
            <br>或是一個地區(ex:台北市)</p>
        <div id='allPlaces'></div>
        <div id='option'>
            <p id='goback' class="back">
                <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>返回
            </p>
            <p id='optionTag'></p>
            <h4 class="btn btn-link option_bar_btn">附近找</h4>
            <div id='option_bar'>
                <a key='restaurant'><i class="fa fa-cutlery" aria-hidden="true"></i>餐廳</a>
                <a key='cafe'><i class="fa fa-coffee" aria-hidden="true"></i>Cafe'</a>
                <a key='parking'><i class="fa fa-car" aria-hidden="true"></i>停車場</a> .......
            </div>
            <div id='infoGotop'>
                <i class="fa fa-arrow-up fa-3x" aria-hidden="true"></i>
            </div>
            <div id='infoText'></div>
            <div id='info'>
            </div>
            <a>網路熱門</a>
        </div>
    </div>
    <!-- distance -->
    <div id='planDistance'>
        <p id='distanceGoback' class="back">
            <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>收起
        </p>
        <h4>路線規劃(拖曳到這裡)<span class="btn btn-link" id="saveRouting">儲存行程</span></h4>
        <div>
        	<span id='maxDay'></span>
        	<a id='addADay' class="btn btn-link">+加一天</a>
			<a id='delADay' class="btn btn-link">-減一天</a>
        </div>
        <div class='dayBar'>
            <span id='prevDay' class="dayBtn"> < </span>
            <span id='dayTitle'>第1天</span>
            <span id='nextDay' class="dayBtn"> > </span>
        </div>
        <div id='output' class="down">
        </div>
    </div>
    <!-- shedule -->
    <div id='schedule_block'>
        <div id='schedule'>
            <p id='scheduleGoback' class="back">
                收起
            </p>
            <div class="list_con" id='list_head'>
                <h4 style="display: inline-block;">我的清單</h4>
                <small>點擊看詳細資料</small>
                <a id='plan'><i class="fa fa-road" aria-hidden="true"></i>開始規劃</a>
            </div>
        </div>
    </div>
</div>
<div class="first_drop_ex">
    <div class="first_drop">拖曳加入地點</div>
</div>
<div class="timeline_ex">
    <div class="time_line">
    	<div>
    		<div id="prevPlace"></div>
    	</div>
    	
        <div>
            <p class="time_title morning" draggable="true">早上</p>
            <div class="time_con">
            </div>
        </div>
        <div>
            <p class="time_title noon">中午</p>
            <div class="time_con">
            </div>
        </div>
        <div>
            <p class="time_title afternoon">下午</p>
            <div class="time_con">
            </div>
        </div>
        <div>
            <p class="time_title night">晚上</p>
            <div class="time_con">
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
//var
//map
var map,
    searchBox,
    service,
    DirectionsService,
    query,
    bounds,
    mark_bounds,
    radius = 500000,
    focusMark,
    marker = [],
    list_marker = [],
    center = {
        lat: 23.5,
        lng: 121.2
    },
    infowindows, //has 's'
    //listCount = 0,
    my_list = []
    
//dom
var hint = document.getElementById('hint'),
    input = document.getElementById('textSearch'),
    dragCount = '',
    temporCount = '',
    dragId = 0;

//process
//planning_search
//EnterSubmit('#searchSubmit');
ResetInput('#textSearch');
welcomeOption('清單', showShedule);
block();

newMap();
Plan();
//planning_distance

function showShedule(e,target) {

    //var target=$('#welcomeOption')
    console.log('click'+target.attr('class'))
    if(target.hasClass('showNow')){
    	SetPage('close_schedule')
		target.removeClass('showNow')
    }else{
    	SetPage('schedule')
    	target.addClass('showNow')
    }
       	
}
$('#schedule_block').click(function() {
    $(this).css('zIndex', '0').animate({
        top: '55vh'
    })
})
</script>
<style type="text/css">
.time_line {
    display: none;
}

.dayBar {
    padding: 3px;
    background-color: #F0F0F0;
    text-align: center;
    font-size: 18px;
}

#nextDay {
    float: right;
    color: gray;
}
.distance_info :hover{
	background-color: lightyellow;
}
.distance_detail {
	display: none;
}
.dayBtn {
	display: inline-block;
	min-width: 20px;
	min-height: 10px;
    cursor: pointer;
}

#prevDay {
    float: left;
    color: gray;
}

#delList {
    float: right;
}

.first_drop {
    padding: 1px;
    min-height: 50px;
}

.time_title {
	border-top: 0.5px solid  #F0F0F0;
	height: 40px;
    margin: 0;
    padding: 3px;
}

.time_con {}

.time_place {
    cursor: pointer;
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid lightgray;
}

.tempor {
    min-height: 50px;
    margin: 0px;
    padding: 0.5vw;
}

.first_drop_ex {
    display: none;
}

.timeline_ex {
    display: none;
}

.morning {
	background: linear-gradient(to bottom,#00FFFF ,white );
}

.noon {
	background: linear-gradient(to bottom,#FFFFAA ,white );
   
}

.afternoon {
	background: linear-gradient(to bottom,#FFC78E ,#FFE4CA,white );
   
}

.night {
	background: linear-gradient(to bottom, #28004D,#5A5AAD ,white );
    color: white;
   
}

._container {
    overflow-y: hidden;
}

#infoText {}

#infoGotop {
    cursor: pointer;
    background-color: rgba(80, 80, 80, 0.7);
    position: fixed;
    font-size: 20px;
    right: 35px;
    bottom: 20px;
    z-index: 19;
}

#welcomeOption {
    display: block;
}

#option_bar {
    /* display: none; */
}

#option_bar a {
    font-size: 15px;
    margin: 5px;
    cursor: pointer;
    color: gray;
}

.pageContainer {
    padding: 0;
}

#map {
    z-index: 0;
    width: 75vw;
    height: 100vh;
    position: absolute;
    left: 0;
}

#mapInfo {
    background: white;
    margin: 0;
    padding: 0px;
    width: 25vw;
    height: 100vh;
    position: absolute;
    right: 0vw;
    /* overflow-y: scroll; */
    z-index: 1;
}

#planDistance {
    background: white;
    margin: 0;
    padding: 0px 0px 200px 0px;
    width: 25vw;
    height: 100vh;
    position: absolute;
    right: 25vw;
    overflow-y: scroll;
    opacity: 0;
    z-index: -1;
}

#schedule {
    overflow-y: scroll;
    width: 25vw;
    height: 100vh;
    position: absolute;
    right: 0;
    margin: 0;
    padding: 0;
    background-color: lightgoldenrodyellow;
    opacity: 1;
}

#list_head {
    background-color: lightgoldenrodyellow;
    border: none;
    margin: 5px 5px 10px 5px;
}

#hint {
    height: 50px;
    overflow: hidden;
    margin: 0px;
    opacity: 0.9;
    padding: 0px;
    background-color: lightblue;
}

#option {
    overflow-y: scroll;
    height: 90vh;
    display: none;
}

#option p {
    margin: 0px;
    padding: 10px;
}

.back {
    margin: 0px;
    cursor: pointer;
    color: black;
    padding: 2px;
    border-radius: 5px;
    background-color: lightblue;
    font-size: 16px;
}

#goback {
    /* display: none;	 */
}

#allPlaces {
    padding: 0px 0px 100px 0px;
    height: 90vh;
    overflow-y: scroll;
}

#allPlaces p {
    cursor: pointer;
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid lightgray;
}

#optionTag {
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid lightgray;
}

.placeIcon {
    width: 5vw;
    height: 5vw;
    overflow: hidden;
    display: inline-block;
}

.placeName {
    padding-left: 1vw;
    /* padding-top:1.7vw;  */
    min-height: 5vw;
    width: 16vw;
    margin-left: 0.1vw;
    display: inline-block;
    overflow: hidden;
}

.placeIcon img {
    height: 100%;
}

#allPlaces p:hover {
    background-color: lightgray;
}

#add {
    font-size: 12px;
    cursor: pointer;
    color: blue;
    float: right;
}

#plan {
    cursor: pointer;
    color: black;
    padding: 2px;
    border-radius: 5px;
    background-color: lightgray;
    font-weight: bold;
    font-size: 18px;
    display: inline-block;
}

#info {
    padding-bottom: 100px;
}

#info img {
    width: 24vw;
}

#infoImg {
    /* 	height: 350px; */
    /* overflow-y: scroll; */
}

#infoImg img {
    width: 24vw;
}

.list_con {
    cursor: pointer;
    margin: 0;
    padding: 0.5vw;
    /* border-top: 1px solid gray; */
    border-bottom: 1px solid orange;
    background-color: #FFE66F;
}

.dragP {
    /* font-size: 18px;
		cursor: pointer;
		padding: 5px;
		margin: 0px;
		height:30px; */
}

.fa-bars {
    cursor: pointer;
    margin-right: 10px;
}

.fa-trash-o {
    cursor: pointer;
    float: right;
    z-index: 10;
}

.travelMode {
    margin: 3px;
}

.instruc {
    display: none;
}

@media (orientation:portrait) {}

@media (max-width:500px) {
    #map {
    z-index: 0;
    width: 100vw;
    height: 43vh;
    position: relative;
    top:0;
    left: 0;
}

#mapInfo {
    font-size: 12px;
    background: white;
    margin: 0;
    padding: 0px;
    width: 100vw;
    height: 50%;
    position: relative;
    top:40%;
    right: 0vw;
    /* overflow-y: scroll; */
    z-index: 1;
}
#option {
    overflow-y: scroll;
    height: 48vh;
    display: none;
}
#allPlaces {
    padding: 0px 0px 100px 0px;
    height: 90vh;
    overflow-y: scroll;
}
#allPlaces p{
    display: inline-block;
}
.placeIcon {
    width: 13vw;
    height: 13vw;
    overflow: hidden;
    display: inline-block;
}

.placeName {
    padding-left: 1vw;
    /* padding-top:1.7vw;  */
    min-height: 13vw;
    width: 79vw;
    margin-left: 0.1vw;
    display: inline-block;
    overflow: hidden;
}

.placeIcon img {
    height: 100%;
}
#info img {
    width: 90vw;
}

#planDistance {
    background: white;
    margin: 0;
    padding: 0px 0px 200px 0px;
    width: 100vw;
    height: 43vh;
    position: absolute;
    top:25px;
    left: 0;
    overflow-y: scroll;
    opacity:0;
    z-index:-1;
}

#schedule {
    z-index: -1;
    overflow-y: scroll;
    width: 100vw;
    height: 57vh;
    position:absolute;
    right: 0;  
    bottom: 0; 
    margin: 0;
    padding: 0;
    background-color: lightgoldenrodyellow;
    opacity: 1;
    }

}
</style>
