<link rel="stylesheet" type="text/css" href="css/planning.css">
<script src='js/planning_search.js'></script>
<script src='js/planning_distance.js'></script>
<div id='searchArea'>
			<div class="row">
				<div class="col-xs-9">
					<input type="text" id='textSearch' class="form-control" placeholder="輸入地點">
				</div>
				<div class="col-xs-3">
					<input type="submit" id="searchSubmit" value="查詢" class="btn btn-primary">
				</div>
				
			</div>	<!-- <input type="submit" id='getLocationBtn' value="我的位置"> -->
		</div>

<div class='pageContainer'>	
	<!-- map -->
	<div id='map'></div>
		<!-- search info -->
	<div id='mapInfo'>
		<p id='hint'>選擇一個想去的地點吧(ex:台北101)<br>或是一個地區(ex:台北市)</p>
		
		<div id='allPlaces'></div>		
		<div id='option'>
			<p id='goback' class="back">
				<i class="fa fa-chevron-circle-left" aria-hidden="true"></i>返回
			</p>
			<h4 class="btn btn-link option_bar_btn">附近找</h4>	
			<div id='option_bar'>	
			<a key='restaurant'><i class="fa fa-cutlery" aria-hidden="true"></i>餐廳</a>
			<a key='cafe'><i class="fa fa-hospital-o" aria-hidden="true"></i>Cafe'</a>
			<a key='parking'><i class="fa fa-car" aria-hidden="true"></i>停車場</a>
			.......
			</div>	
			
			
			<div id='info'>
			</div>
			<a>網路熱門</a>
		</div>		
	</div>
		<!-- distance -->
		<div id='planDistance'>
			<p id='distanceGoback' class="back">
				<i class="fa fa-chevron-circle-right" aria-hidden="true"></i>返回
			</p>
			<h4>路線規劃<span class="btn btn-link" id="saveRouting">儲存行程</span></h4>	
			<div id='output' class="down"></div>			
		</div>
		<!-- shedule -->
	<div id='schedule_block'>
		<div id='schedule'>
			<p id='scheduleGoback' class="back">
				<i class="fa fa-arrow-up" aria-hidden="true"></i>收起
			</p>
			<div class="list_con" id='list_head'>
			<h4 style="display: inline-block;">清單</h4>
			<small>點擊看詳細資料，拖曳來排序</small>
			<a id='plan'><i class="fa fa-road" aria-hidden="true"></i>規劃路線</a>
		</div>	
		</div>
	</div>
</div>

<script type="text/javascript">
//var
	//map
var map,
	service,
	DirectionsService,
	query,
	bounds,
	mark_bounds,
	radius=500000,
	focusMark,
	marker=[],
	list_marker=[],
	center={lat:24.5,lng:121.2},
	infowindows,//has 's'
	my_list=[],
	listCount=0;
	//dom
var hint=document.getElementById('hint'),
	input=document.getElementById('textSearch'),
	dragCount='',
	dragId='';

//process
	//planning_search
EnterSubmit('#searchSubmit');
welcomeOption('清單',showShedule);
block();
ResetInput('#textSearch');
setButton();
newMap();
	//planning_distance

function showShedule(){
	$('#schedule').css('zIndex','19');
	$('#schedule_block').css('zIndex','19').animate({top:'0'});
}
$('#schedule_block').click(function(){
	$(this).css('zIndex','0').animate({top:'55vh'})
})
</script>
<style type="text/css">
	#welcomeOption{
		display: block;
	}
	#option_bar{
		display: none;
		height: 200px;
	}
	#option_bar a{
		display: inline-block;
		font-size: 15px;
		margin:0px;
		width: 5vw;
		height: 50px;
		cursor: pointer;
		color: gray;
	}
	.pageContainer{
		padding: 0;
	}
	#map{
		z-index: 0;
		width:75vw;
		height: 100vh;
		position: absolute;
		left: 0;
	}
	#mapInfo{
		background: white;		
		margin: 0;
		padding: 0px;
		width: 25vw;
		height: 100vh;
		position: absolute;
		right: 0vw;
		overflow-y: scroll;
		z-index: 10;
		opacity: 0.95;
	}
	#planDistance{
		background: white;		
		margin: 0;
		padding: 0px;
		width: 25vw;
		height:100vh;
		position: absolute;
		right: 0vw;
		overflow-y: hidden;
		z-index: 0;
		opacity: 0;
	}
	#schedule{
		overflow-y: scroll;
		width: 25vw;
		height: 100vh;
		position: absolute;
		right: 0;
		margin: 0;
		padding: 0;
		background-color: lightgoldenrodyellow ;
		opacity: 1;
	}
	#list_head{
		background-color: lightgoldenrodyellow ;
		border: none;
		margin: 5px 5px 10px 5px;
	}
	#hint{
		overflow: hidden;
		margin: 0px;
		opacity: 0.9;
		padding: 0px;
		background-color:lightblue;
	}
	#option{
		display: none;
	}
	.back{
		cursor: pointer;
		color:black;
		padding: 2px;
		border-radius: 5px;
		background-color: lightgray;
		font-size: 20px;
	}
	#goback{
		display: none;		
	}
	#allPlaces{
		height:90vh;
		overflow-y:scroll; 
	}
	#allPlaces p{
		cursor: pointer;
		margin: 0;
		padding:10px;
		border-top: 1px solid gray;
		border-bottom: 1px solid gray;
	}
	#allPlaces p:hover{
		background-color: lightgray;
	}
	#plan,#option #add{
		cursor: pointer;
		color:black;
		padding: 2px;
		border-radius: 5px;
		background-color: lightgray;
	}
	#info{
		height: 90vh;
	}
	#plan{
		font-weight: bold;
		font-size: 18px;
		display: inline-block;
		margin-left: 20px;
	}
	#infoImg{
	/* 	height: 350px; */
		/* overflow-y: scroll; */
	}
	#infoImg img{
		width: 24vw;
	}
	.list_con{
		border-bottom: 1px solid orange;
		margin: 0;
		padding:1px;
		background-color:#FFE153;
	}
	.dragP{
		font-size: 18px;
		cursor: pointer;
		padding: 5px;
		margin: 0px;
		height:30px;
	}
	.tempor{
		display: inline-block;
		width: 100%;
		height: 30px;
		background-color: #FFFF6F;
		text-align: center;
	}
	.fa-bars{
		cursor: pointer;
		margin-right: 10px;
	}
	.fa-trash-o{
		cursor: pointer;
		float: right;
		z-index: 10;
	}
	#output{
		/* height: 350px; */
		overflow-y: scroll;
	}
	#output h4{
		padding: 5px;
		background-color: lightskyblue;
	}
	.travelMode{
		margin: 3px;
	}
	#hint{
		height: 10vh;
	}
	.instruc{
		display: none;
	}
	@media (orientation:portrait){
		#map{
			width: 100vw;
			height: 45vh;
		}
		#welcomeOption{
			display: block;
		}
		#mapInfo{
			overflow-y: scroll;
			position: absolute;
			bottom: 0px;
			width: 100vw;
			height: 55vh;
			z-index: 10;
			left: 0px;
			background-color: white;
		}
		#planDistance{
			overflow-y: scroll;
			position: absolute;
			bottom: 0px;
			width: 100vw;
			height: 55vh;
			z-index: 0;
			left: 0px;
			background-color: white;
			opacity: 0;
		}
		#schedule_block{
			position:absolute;
			top:55vh;
			left: 0;
			width: 100vw;
			height: 100vh;
			z-index: 11;
		}
		#schedule{
			position: absolute;
			left: 0;
			top:45%;
			width: 100%;
			height: 55%;
		}
	}
	@media (max-width:500px){
			#map{
			width: 100vw;
			height: 45vh;
		}
		#welcomeOption{
			display: block;
		}
		#mapInfo{
			overflow-y: scroll;
			position: absolute;
			bottom: 0px;
			width: 100vw;
			height: 55vh;
			z-index: 10;
			left: 0px;
			background-color: white;
		}
		#planDistance{
			overflow-y: scroll;
			position: absolute;
			bottom: 0px;
			width: 100vw;
			height: 55vh;
			z-index: 0;
			left: 0px;
			background-color: white;
			opacity: 0;
		}
		#schedule_block{
			position:absolute;
			top:55vh;
			left: 0;
			width: 100vw;
			height: 100vh;
			z-index: 11;
		}
		#schedule{
			position: absolute;
			left: 0;
			top:45%;
			width: 100%;
			height: 55%;
		}
	}
</style>